---
title: 'Next.jsë¡œ ë§ˆí¬ë‹¤ìš´ ë¸”ë¡œê·¸ ë§Œë“¤ê¸°'
date: '2022-10-25'
tags: ['next.js']
---

> ë°œí‘œ ìŠ¤í„°ë”” 6ì£¼ì°¨ ì£¼ì œë¡œ ì„ ì •í•œ, **`Next.jsë¡œ ë§ˆí¬ë‹¤ìš´ ë¸”ë¡œê·¸ ë§Œë“¤ê¸°`** ì— ëŒ€í•œ ì •ë¦¬ ê¸€ì…ë‹ˆë‹¤.

### Intro

ìµœê·¼ Next.jsë¥¼ ê³µë¶€í•˜ë©´ì„œ ì—°ìŠµ ì‚¼ì•„ ê°œë°œ ë¸”ë¡œê·¸ë¥¼ ë§Œë“¤ì–´ë³´ê³  ìˆìŠµë‹ˆë‹¤. ì§€ê¸ˆ ì‘ì„±í•˜ê³  ìˆëŠ” ë²¨ë¡œê·¸ë‚˜ í‹°ìŠ¤í† ë¦¬, ë„¤ì´ë²„ ë¸”ë¡œê·¸ ë“±ì˜ ëŒ€í˜• ì„œë¹„ìŠ¤ë“¤ì´ ìˆì§€ë§Œ ì›í•˜ëŠ” ê¸°ëŠ¥ì„ ë§Œë“¤ ìˆ˜ë„ ì—†ê³ , ë””ìì¸ ì»¤ìŠ¤í„°ë§ˆì´ì§•ì´ í˜ë“­ë‹ˆë‹¤. ê·¸ë˜ì„œ `Jekyll` ê°™ì€ `ì •ì  ì‚¬ì´íŠ¸ ìƒì„±ê¸°(Static Site Generator, SSG)` ë¥¼ ì´ìš©í•œ ë¸”ë¡œê·¸ë“¤ì´ ë§ì´ ëŠ˜ì–´ë‚˜ê³  ìˆëŠ” ê²ƒ ê°™ìŠµë‹ˆë‹¤.

Jekyllì„ ì‚¬ìš©í•˜ì—¬ ë§Œë“œëŠ” ê²ƒë„ ì¢‹ì§€ë§Œ, Ruby ê¸°ë°˜ìœ¼ë¡œ ë§Œë“¤ì–´ì¡Œê¸° ë•Œë¬¸ì— Rubyë¥¼ ëª¨ë¥´ëŠ” ì‚¬ëŒ ì…ì¥ì—ì„œëŠ” í”„ë¡œì íŠ¸ì˜ ì²˜ìŒë¶€í„° ì½”ë“œë¥¼ ì‘ì„±í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ê·¸ë˜ì„œ ë§Œë“¤ì–´ì§„ ì½”ë“œ ë² ì´ìŠ¤ë¥¼ ê°€ì ¸ì™€ì„œ ì´ìš©í•˜ëŠ” ê²½ìš°ê°€ ë§ì€ë°, ì´ ê²½ìš°ì—ë„ ìˆ˜ì •ì´ í•„ìš”í•œ ê²½ìš° íƒ€ì¸ì˜ ì†ŒìŠ¤ì½”ë“œë¥¼ ì½ì–´ì•¼ í•˜ë¯€ë¡œ ë¶ˆí¸í•œ ì ì´ ìˆìŠµë‹ˆë‹¤.

ê·¸ë˜ì„œ `Next.js` ë¡œ ë¸”ë¡œê·¸ë¥¼ ë§Œë“¤ê¸°ë¡œ ê²°ì •í–ˆìŠµë‹ˆë‹¤. ëŒ€ë¶€ë¶„ í”„ë¡ íŠ¸ì—”ë“œ ê°œë°œìì˜ ê²½ìš°, ìë°”ìŠ¤í¬ë¦½íŠ¸ë‚˜ ë¦¬ì•¡íŠ¸ë¥¼ ì‚¬ìš©í•´ ë³¸ ê²½í—˜ì´ ìˆê¸° ë•Œë¬¸ì— ì½”ë“œë¥¼ ë°‘ë°”ë‹¥ë¶€í„° ì§œë„ ê·¸ë ‡ê²Œ ì–´ë µì§€ ì•ŠìŠµë‹ˆë‹¤. íŠ¹íˆë‚˜ ë¸”ë¡œê·¸ì˜ ê²½ìš°, ë°±ì—”ë“œê°€ í•„ìš”í•˜ì§€ë„ ì•Šê³  ë³µì¡í•œ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ êµ¬í˜„í•  í•„ìš”ë„ ì—†ìŠµë‹ˆë‹¤. ê°œì¸ì ìœ¼ë¡œë„ Next.jsë¡œ ì§ì ‘ ê°œë°œí•´ë´¤ì„ ë•Œ, ê·¸ë ‡ê²Œ ì–´ë ¤ìš´ ê³¼ì •ì€ ì—†ì–´ì„œ í•œ ë²ˆì¯¤ ê²½í—˜í•´ë³´ëŠ” ê²ƒë„ ì¢‹ë‹¤ê³  ìƒê°í•˜ì—¬ ì´ë²ˆ í¬ìŠ¤íŒ…ì„ í†µí•´ ê°œë°œ ê³¼ì •ì„ ê³µìœ í•˜ë ¤ê³  í•©ë‹ˆë‹¤.

---

## âš™ï¸ ë¸”ë¡œê·¸ ë§Œë“¤ê¸° ì‹œì‘!

ìµœì†Œí•œì˜ ê¸°ëŠ¥ì„ êµ¬í˜„í•˜ê¸° ìœ„í•´ ë‹¤ìŒê³¼ ê°™ì€ ë¼ì´ë¸ŒëŸ¬ë¦¬, í”„ë ˆì„ì›Œí¬ë¥¼ ì‚¬ìš©í•˜ì˜€ìŠµë‹ˆë‹¤.

> - Next.js(SSG)

- ë§ˆí¬ë‹¤ìš´ì„ JSë¡œ ë³€í™˜í•´ì£¼ëŠ” ë„êµ¬ì¸ `remark` (ë§ˆí¬ë‹¤ìš´ Parser), `remark-html` (remarkë¡œ íŒŒì‹±í•œ ë°ì´í„°ë¥¼ htmlë¡œ ë³€í™˜í•´ì¤ë‹ˆë‹¤.)
- ê° ë§ˆí¬ë‹¤ìš´ì˜ meta data: `gray-matter`
  >

### 1ï¸âƒ£ create-next-app

https://nextjs.org/docs/getting-started

`yarn create next-app --typescript` ëª…ë ¹ì–´ë¥¼ í†µí•´ì„œ next appì„ ë§Œë“¤ì–´ì¤ë‹ˆë‹¤.

ì‹œì‘í•˜ê¸° ì „ì— ì•Œì•„ì•¼ ë  ë¶€ë¶„ì€, Next.jsëŠ” ê¸°ë³¸ì ìœ¼ë¡œ `pre-render` ë¥¼ í•©ë‹ˆë‹¤.

> By default, Next.js pre-renders every page. This means that Next.js generates HTML for each page in advance, instead of having it all done by client-side JavaScript. Pre-rendering can result in better performance and SEO.

<span style="color:CornflowerBlue"></span>

pre-renderì—ëŠ” **<span style="color:LightCoral">SSG(Static Site Generation)</span>**ì™€ **<span style="color:CornflowerBlue">SSR(Server Side Rendering)</span>**, 2ê°€ì§€ ë°©ì‹ì´ ìˆëŠ”ë° ë‘˜ì˜ ì°¨ì´ì ì€ SSGëŠ” **<span style="color:LightCoral">ë¹Œë“œ ì‹œì—</span>** ë°ì´í„°ë¥¼ ê°€ì ¸ì™€ì„œ HTML íŒŒì¼ì„ ë¯¸ë¦¬ ë§Œë“¤ì–´ë‘ê³  SSRì€ **<span style="color:CornflowerBlue">ì„œë²„ì— ìš”ì²­ì´ ìˆì„ ë•Œ,</span>** ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ê³  HTML íŒŒì¼ì„ ë§Œë“¤ì–´ì„œ ë°˜í™˜í•©ë‹ˆë‹¤.

ê°œì¸ ë¸”ë¡œê·¸ì˜ ê²½ìš°ì—ëŠ” SSRë³´ë‹¤ SSGê°€ ë” ì í•©í•œë°, ë¹Œë“œ ì‹œì— ëª¨ë“  íŒŒì¼ì„ ë¯¸ë¦¬ ë§Œë“¤ì–´ë‘ì–´ë„ ë°ì´í„°ê°€ ë°”ë€” ì¼ì´ ì—†ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤. Next.jsì—ì„œëŠ” SSGë¥¼ `getStaticProps` ë©”ì„œë“œë¥¼ ì´ìš©í•´ì„œ ì†ì‰½ê²Œ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

---

### 2ï¸âƒ£ ë©”ì¸ í˜ì´ì§€ ë§Œë“¤ê¸° (getStaticProps)

> The data required to render the page is available at build time ahead of a userâ€™s request.

`getStaticProps` ë©”ì„œë“œë¥¼ ì´ìš©í•˜ë©´, ì‚¬ìš©ì ìš”ì²­ì— ì•ì„œ ë¹Œë“œ íƒ€ì„ì— í•„ìš”í•œ ë°ì´í„°ë¥¼ ë°›ì•„ì™€ì„œ í˜ì´ì§€ë¥¼ ë¯¸ë¦¬ ë Œë”ë§ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```tsx
// posts will be populated at build time by getStaticProps()
function Blog({ posts }) {
  return (
    <ul>
      {posts.map((post) => (
        <li>{post.title}</li>
      ))}
    </ul>
  );
}

// This function gets called at build time on server-side.
// It won't be called on client-side, so you can even do
// direct database queries.
export async function getStaticProps() {
  // Call an external API endpoint to get posts.
  // You can use any data fetching library
  const res = await fetch('https://.../posts');
  const posts = await res.json();

  // By returning { props: { posts } }, the Blog component
  // will receive `posts` as a prop at build time
  return {
    props: {
      posts,
    },
  };
}

export default Blog;
```

<br />
ê³µì‹ ë¬¸ì„œì˜ ì˜ˆì œ ì½”ë“œë¥¼ ì°¸ê³ í•´ì„œ, ë¸”ë¡œê·¸ì˜ ë©”ì¸ í˜ì´ì§€ì— ë“¤ì–´ê°ˆ ì½”ë“œë¥¼
ì‘ì„±í–ˆìŠµë‹ˆë‹¤.

```tsx
const Home: NextPage<{ posts: PostType[] }> = ({ posts }) => {
  return (
    <ul>
      {posts.map((post, index) => (
        <li key={index}>
          {post.title} - {post.author}
        </li>
      ))}
    </ul>
  );
};

export async function getStaticProps() {
  // ê²Œì‹œë¬¼ ë°ì´í„°ë“¤ì„ ê°€ì ¸ì˜µë‹ˆë‹¤.
  // ë¡œì»¬ì— ìˆëŠ” ë§ˆí¬ë‹¤ìš´ íŒŒì¼ì„ ê°€ì ¸ì˜¤ëŠ” getAllPosts ê³¼ì •ì€ ì´í›„ì— ì„¤ëª…í•˜ê² ìŠµë‹ˆë‹¤.
  const posts = getAllPosts(['slug', 'title', 'date']);

  // getStaticPropsì—ì„œ ë°˜í™˜í•˜ëŠ” ê°ì²´ëŠ” í˜ì´ì§€ ì»´í¬ë„ŒíŠ¸ì˜ propsë¡œ ë„˜ì–´ê°‘ë‹ˆë‹¤.
  return {
    props: {
      posts,
    },
  };
}

export default Home;
```

![](https://velog.velcdn.com/images/ctdlog/post/fd9d1a9e-8329-4500-81f2-0476492467e9/image.png)

---

### 3ï¸âƒ£ ìƒì„¸ í˜ì´ì§€ ë§Œë“¤ê¸° (getStaticPaths)

`getStaticProps` ë¥¼ í†µí•´ ë¹Œë“œ íƒ€ì„ì— ë°ì´í„°ë¥¼ ê°€ì ¸ì™€ì„œ ë©”ì¸í˜ì´ì§€ì— ê²Œì‹œë¬¼ì˜ ì œëª©ì„ ë³´ì—¬ì£¼ê³  ìˆìŠµë‹ˆë‹¤.

> ì—¬ê¸°ì„œ ê²Œì‹œë¬¼ì˜ ì œëª©ì„ í´ë¦­í•˜ë©´ ìƒì„¸ í˜ì´ì§€ë¡œ ì´ë™í–ˆìœ¼ë©´ í•˜ëŠ”ë°, ì–´ë–»ê²Œ êµ¬í˜„í•  ìˆ˜ ìˆì„ê¹Œìš”?

Next.jsì—ì„œ ë™ì  ë¼ìš°íŒ…(ex. `posts/[title]`)ì„ ì§€ì›í•˜ì§€ë§Œ, ë¹Œë“œ íƒ€ì„ì— `getStaticProps` í•¨ìˆ˜ê°€ ì‹¤í–‰ë˜ë©´ì„œ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ê¸° ë•Œë¬¸ì— ì–´ë–¤ queryë¥¼ ë„˜ê²¨ì¤˜ì•¼ í•  ì§€ ì•Œ ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ë”°ë¼ì„œ, ê° í˜ì´ì§€ë¥¼ ë¯¸ë¦¬ ë Œë”ë§í•  ìˆ˜ ì—†ëŠ” ë¬¸ì œê°€ ìƒê¹ë‹ˆë‹¤.

ì´ëŸ° ìƒí™©ì—ì„œ `getStaticPaths` ëŠ” Dynamic Routesë¥¼ ìœ„í•´ `getStaticProps` ì™€ ê°™ì´ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. `getStaticPaths` ëŠ” ì§€ì •í•œ ëª¨ë“  ê²½ë¡œë¥¼ ì •ì ìœ¼ë¡œ ë¯¸ë¦¬ ë Œë”ë§í•©ë‹ˆë‹¤.

> If a page has Dynamic Routes and uses getStaticProps, it needs to define a list of paths to be statically generated.

ì°¸ê³ ë¡œ, Dynamic Routes + getStaticPropsë¥¼ ì‚¬ìš©í•˜ëŠ” ê²½ìš°ì— getStaticPaths í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ì—¬ ë Œë”ë§ ê²½ë¡œë¥¼ ì„¤ì •í•˜ì§€ ì•Šìœ¼ë©´ ì˜¤ë¥˜ê°€ ë°œìƒí•©ë‹ˆë‹¤.

![](https://velog.velcdn.com/images/ctdlog/post/127abf19-1841-465f-bb50-56dc0d6c1338/image.png)

#### ì•„ë˜ëŠ” ê³µì‹ ë¬¸ì„œì˜ ì˜ˆì œ ì½”ë“œì…ë‹ˆë‹¤.

```tsx
// pages/posts/[id].js

// Generates `/posts/1` and `/posts/2`
export async function getStaticPaths() {
  return {
    paths: [{ params: { id: '1' } }, { params: { id: '2' } }],
    fallback: false, // can also be true or 'blocking'
  };
}

// `getStaticPaths` requires using `getStaticProps`
export async function getStaticProps(context) {
  return {
    // Passed to the page component as props
    props: { post: {} },
  };
}

export default function Post({ post }) {
  // Render post...
}
```

#### ë§ˆì°¬ê°€ì§€ë¡œ ê³µì‹ë¬¸ì„œì˜ ì½”ë“œë¥¼ ì°¸ê³ í•´ì„œ ìƒì„¸ í˜ì´ì§€ë¥¼ ë§Œë“¤ì–´ë³´ê² ìŠµë‹ˆë‹¤.

```tsx
const Post = ({ post }: Props) => {
	// Render post..
};

// getStaticPathsì—ì„œ ë°˜í™˜í•œ paramsë¥¼ ì¸ìë¡œ ë°›ìŠµë‹ˆë‹¤.
export async function getStaticProps({ params }: Params) {
  // slugë¥¼ í†µí•´ì„œ íŠ¹ì • ê²Œì‹œë¬¼ì˜ ë§ˆí¬ë‹¤ìš´ íŒŒì¼ì„ ì°¾ì•„ì„œ ê°€ì ¸ì™€ì„œ í˜ì´ì§€ ì»´í¬ë„ŒíŠ¸ì— ë„˜ê²¨ì¤ë‹ˆë‹¤.
  // ì´ ê³¼ì •ì—ì„œ, ë§ˆí¬ë‹¤ìš´ íŒŒì¼ì„ ìë°”ìŠ¤í¬ë¦½íŠ¸ ê°ì²´ë¡œ ë³€í™˜í•˜ê³ , HTMLë¡œ ë³€í™˜í•´ì•¼ í•©ë‹ˆë‹¤.
  const post = getPostBySlug(...);
  const content = await markdownToHtml(...);

  // ê²Œì‹œë¬¼ ì •ë³´ì™€ ì»¨í…ì¸ ë¥¼ í˜ì´ì§€ ì»´í¬ë„ŒíŠ¸(Post)ë¡œ ë°˜í™˜í•©ë‹ˆë‹¤.
  return {
    props: {
      post: {
        ...post,
        content,
      },
    },
  };
}

export async function getStaticPaths() {
  // ëª¨ë“  ê²Œì‹œë¬¼ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜µë‹ˆë‹¤.
  const posts = getAllPosts(['slug']);

  return {
    // mapì„ í†µí•´ ê²Œì‹œë¬¼ë“¤ì„ ìˆœíšŒí•˜ë©° ê°ê°ì˜ ê²½ë¡œë¥¼ ë§Œë“¤ì–´ì¤ë‹ˆë‹¤.
    // ex. posts/title1, posts/title2, ...
    // ë°˜í™˜í•œ ê°ì²´ëŠ” getStaticPropsì˜ ì¸ìë¡œ ë„˜ì–´ê°‘ë‹ˆë‹¤.
    paths: posts.map((post) => {
      return {
        params: {
          slug: post.slug,
        },
      };
    }),
    fallback: false,
  };
}

export default Post;
```

---

### 4ï¸âƒ£ getAllPosts, markdownToHTML

ì´ì œ ë©”ì¸ í˜ì´ì§€ì™€ ìƒì„¸ í˜ì´ì§€ì— ë°ì´í„°ë¥¼ ë³´ì—¬ì£¼ê¸° ìœ„í•œ ì¤€ë¹„ëŠ” ëª¨ë‘ ëë‚¬ìŠµë‹ˆë‹¤.

> ì´ì œ ë°ì´í„°ë¥¼ ì˜ ê°€ì ¸ì˜¤ê¸°ë§Œ í•˜ë©´ ë˜ëŠ”ë° ë¡œì»¬ì— ìˆëŠ” ë§ˆí¬ë‹¤ìš´ íŒŒì¼ì„ ì–´ë–»ê²Œ ê°€ì ¸ì˜¤ê³ , ë§ˆí¬ë‹¤ìš´ì„ ì–´ë–»ê²Œ HTMLë¡œ ë³€í™˜í•´ì•¼ ë ê¹Œìš”?

https://github.com/vercel/next.js/tree/canary/examples/blog-starter

ëŒ€ë¶€ë¶„ì˜ ì˜¤í”ˆì†ŒìŠ¤ í”„ë¡œì íŠ¸ë“¤ì˜ ê¹ƒí—ˆë¸Œë¥¼ ë“¤ì–´ê°€ë³´ë©´, sampleì´ë‚˜ examples í´ë”ë¥¼ ì°¾ì•„ë³¼ ìˆ˜ ìˆëŠ”ë° ê±°ê¸°ì„œ ë‹¤ì–‘í•œ í”„ë¡œì íŠ¸ì˜ ì˜ˆì œ ì½”ë“œë¥¼ ì°¾ì•„ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤. next.jsì˜ ê¹ƒí—ˆë¸Œì—ì„œ examples í´ë”ì— ë“¤ì–´ê°€ë³´ë©´, blog-starter ì˜ˆì œ ì½”ë“œê°€ ìˆìŠµë‹ˆë‹¤.

#### ë¨¼ì €, ì–´ë–»ê²Œ ë¡œì»¬ì— ìˆëŠ” ë§ˆí¬ë‹¤ìš´ íŒŒì¼ì„ ê°€ì ¸ì˜¬ ìˆ˜ ìˆëŠ”ì§€ ì•Œì•„ë³´ê² ìŠµë‹ˆë‹¤.

```ts
// blog-starter/lib/api.ts
import fs from 'fs';
import { join } from 'path';
import matter from 'gray-matter';

const postsDirectory = join(process.cwd(), '__posts');

export function getPostSlugs() {
  // fs ëª¨ë“ˆì„ í†µí•´ì„œ íŒŒì¼ ë””ë ‰í† ë¦¬ë¥¼ ì½ê³  __posts ì•ˆì— ìˆëŠ” íŒŒì¼ë“¤(ë§ˆí¬ë‹¤ìš´)ì„ ê°€ì ¸ì˜µë‹ˆë‹¤.
  return fs.readdirSync(postsDirectory);
}

// ê°€ì ¸ì˜¨ ë§ˆí¬ë‹¤ìš´ íŒŒì¼ì„ ê°ì²´ë¡œ ë³€í™˜í•´ì„œ ë°˜í™˜í•©ë‹ˆë‹¤.
export function getPostBySlug(slug: string, fields: string[] = []) {
  const realSlug = slug.replace(/\.md$/, '');
  const fullPath = join(postsDirectory, `${realSlug}.md`);
  const fileContents = fs.readFileSync(fullPath, 'utf8');
  // ì—¬ê¸°ì„œ matterëŠ” ë§ˆí¬ë‹¤ìš´ íŒŒì¼ì˜ front-matterë¥¼ íŒŒì‹±í•´ì£¼ëŠ” ì—­í• ì„ í•©ë‹ˆë‹¤.
  // matterì— ëŒ€í•´ì„œëŠ” ì•„ë˜ì—ì„œ ì¶”ê°€ë¡œ ì„¤ëª…í•˜ê² ìŠµë‹ˆë‹¤.
  const { data, content } = matter(fileContents);

  type Items = {
    [key: string]: string;
  };

  const items: Items = {};

  // Ensure only the minimal needed data is exposed
  fields.forEach((field) => {
    if (field === 'slug') {
      items[field] = realSlug;
    }
    if (field === 'content') {
      items[field] = content;
    }

    if (typeof data[field] !== 'undefined') {
      items[field] = data[field];
    }
  });

  return items;
}

export function getAllPosts(fields: string[] = []) {
  // ë§ˆí¬ë‹¤ìš´ íŒŒì¼ë“¤ì„ ëª¨ë‘ ê°€ì ¸ì˜¤ê³ ,
  const slugs = getPostSlugs();
  const posts = slugs
    // ê°ì²´ë¡œ íŒŒì‹±í•œ ë’¤ì—,
    .map((slug) => getPostBySlug(slug, fields))
    // ë‚ ì§œ ìˆœìœ¼ë¡œ ì •ë ¬í•´ì„œ ë°˜í™˜í•´ì¤ë‹ˆë‹¤.
    .sort((post1, post2) => (post1.date > post2.date ? -1 : 1));
  return posts;
}
```

ì´ë ‡ê²Œ ëª¨ë“  ê²Œì‹œë¬¼ë“¤ì„ ê°ì²´ë¡œ ë³€í™˜í•´ì„œ ê°€ì ¸ì˜¬ ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.

`gray-matter` ê°€ í•˜ëŠ” ì—­í• ì— ëŒ€í•´ì„œ ì¡°ê¸ˆ ë¶€ì—° ì„¤ëª…ì„ í•˜ìë©´,

```
---
title: Hello
slug: home
---
<h1>Hello world!</h1>

```

ì—¬ê¸°ì„œ `---` ì‚¬ì´ì— ìˆëŠ” ë¶€ë¶„ì´ ë§ˆí¬ë‹¤ìš´ íŒŒì¼ì˜ `front-matter` ë¼ê³  í•  ìˆ˜ ìˆëŠ”ë°, `front-matter` ì—ì„œ ê²Œì‹œë¬¼ì— ëŒ€í•œ ë©”íƒ€ ë°ì´í„°ë¥¼ ì„¤ì •í•©ë‹ˆë‹¤.

https://hexo.io/ko/docs/front-matter.html

gray-matter ë¼ì´ë¸ŒëŸ¬ë¦¬ëŠ” ì´ front-matter êµ¬ë¬¸ì„ ë¶„ì„í•´ì„œ ê°ì²´ë¡œ íŒŒì‹±í•´ì¤ë‹ˆë‹¤.

```json
{
  "content": "<h1>Hello world!</h1>",
  "data": {
    "title": "Hello",
    "slug": "home"
  }
}
```

ìë°”ìŠ¤í¬ë¦½íŠ¸ ê°ì²´ë¡œ ë³€í™˜í•˜ëŠ” ê³¼ì •ì„ ê±°ì³¤ê¸° ë•Œë¬¸ì—, ì´ì œ êº¼ë‚´ì„œ ì“°ê¸°ë§Œ í•˜ë©´ ë©ë‹ˆë‹¤.

í•˜ì§€ë§Œ, ì´ë²ˆ ë¸”ë¡œê·¸ì—ì„œëŠ” ë§ˆí¬ë‹¤ìš´ ë¬¸ë²•ì„ ì§€ì›í•˜ê¸° ìœ„í•´ì„œ content ì•ˆì— ìˆëŠ” ê°’ì„ ì‹¤ì œ HTMLë¡œ ë³€ê²½í•´ì£¼ì–´ì•¼ í•©ë‹ˆë‹¤.

> content: `"### H3"` -> content: `<h3>H3</h3>`

#### ì¦‰, ë§ˆí¬ë‹¤ìš´ì„ HTMLë¡œ ë³€í™˜í•´ì£¼ëŠ” ì‘ì—…ì„ ì¶”ê°€í•˜ë©´ ë©ë‹ˆë‹¤.

```ts
// blog-starter/lib/markdownToHtml.ts
import { remark } from 'remark';
import html from 'remark-html';

export default async function markdownToHtml(markdown: string) {
  const result = await remark().use(html).process(markdown);
  return result.toString();
}
```

ì´ ê³¼ì •ì€ `remark` ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ í†µí•´ ì²˜ë¦¬ í–ˆìŠµë‹ˆë‹¤. remark ì™¸ì—ë„ unfiedë‚˜ rehype ê°™ì€ ë¼ì´ë¸ŒëŸ¬ë¦¬ë„ ë§ì´ ì‚¬ìš©í•˜ëŠ” ê²ƒ ê°™ìŠµë‹ˆë‹¤.

https://www.npmjs.com/package/remark

ë¬¼ë¡ , ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šê³  ì‹¶ë‹¤ë©´ ì§ì ‘ front-matterë¥¼ ê°ì²´ë¡œ íŒŒì‹±í•˜ëŠ” ì½”ë“œë¥¼ ì§œê±°ë‚˜ ë§ˆí¬ë‹¤ìš´ì„ HTMLë¡œ ë³€í™˜í•˜ëŠ” ì½”ë“œë¥¼ ì§œëŠ” ë°©ë²•ë„ ìˆìŠµë‹ˆë‹¤.

~~í•˜ì§€ë§Œ, ì €ëŠ” ì •ì‹  ê±´ê°•ì„ ìœ„í•´....~~

#### ì–´ì¨Œë“ , ìµœì¢…ì ìœ¼ë¡œ ìƒì„¸ í˜ì´ì§€ë¥¼ ì™„ì„±í–ˆìŠµë‹ˆë‹¤.

```tsx
import type { PostType } from '../interfaces/post';
import { getAllPosts, getPostBySlug } from '../lib/api';
import markdownToHtml from '../lib/markdownToHtml';

const Post = ({ post }: { post: PostType }) => {
  return (
    <>
      <div>{post.title}</div>
      <div dangerouslySetInnerHTML={{ __html: post.content }} />
    </>
  );
};

export async function getStaticProps({
  params,
}: {
  params: {
    slug: string;
  };
}) {
  const post = getPostBySlug(params.slug, [
    'title',
    'slug',
    'description',
    'date',
    'lastmod',
    'weight',
    'content',
    'fileName',
  ]);
  const content = await markdownToHtml(post.content || '');

  return {
    props: {
      post: {
        ...post,
        content,
      },
    },
  };
}

export async function getStaticPaths() {
  const posts = getAllPosts(['slug']);

  return {
    paths: posts.map((post) => {
      return {
        params: {
          slug: post.slug,
        },
      };
    }),
    fallback: false,
  };
}

export default Post;
```

![](https://velog.velcdn.com/images/ctdlog/post/3748b43f-32e9-4a3d-9cb0-2b839a00ab9b/image.gif)

---

### ğŸ§ Outro

ì´ë ‡ê²Œ ë§ˆí¬ë‹¤ìš´ ë¸”ë¡œê·¸ í•˜ë‚˜ë¥¼ ì™„ì„±í•´ë´¤ìŠµë‹ˆë‹¤. CSSê°€ ì ìš©ë˜ì–´ ìˆì§€ ì•Šì•„ì„œ ì—„ì²­ êµ¬ë ¤ë³´ì´ì§€ë§Œ.. ì–´ì¨Œë“  ë§ˆí¬ë‹¤ìš´ íŒŒì¼ì„ ì½ì–´ì™€ì„œ ë³€í™˜í•˜ê³  í™”ë©´ì— ì •ìƒì ìœ¼ë¡œ ë³´ì—¬ì§‘ë‹ˆë‹¤. Next.jsë¥¼ ì´ìš©í•´ì„œ SSG(Static Site Generation) ë¸”ë¡œê·¸ë¥¼ ì‰½ê²Œ ë§Œë“¤ ìˆ˜ ìˆìœ¼ë‹ˆê¹Œ ìŠ¤ìŠ¤ë¡œ ì •ë¦¬ë„ í•  ê²¸, ê³µìœ ë„ í•  ê²¸ í¬ìŠ¤íŒ…ì„ ì‘ì„±í•´ë´¤ìŠµë‹ˆë‹¤. ì²˜ìŒë¶€í„° ê³µìœ í•  ëª©ì ìœ¼ë¡œ ê¸€ì„ ì‘ì„±í•œê±°ë¼ ì´ í¬ìŠ¤íŒ…ì— ì“°ì—¬ì§„ ê³¼ì •ì„ ì²˜ìŒë¶€í„° ë‹¤ì‹œ í•´ë´¤ê³ , ë§Œë“¤ì–´ì§„ ê²°ê³¼ë¬¼ì€ ê¹ƒí—ˆë¸Œë¥¼ í†µí•´ì„œ ê³µìœ í•˜ê² ìŠµë‹ˆë‹¤.

ë‹¤ìŒìœ¼ë¡œ ì¶”ì²œí•˜ëŠ” ì‘ì—…ì€ Code Highlighting ì…ë‹ˆë‹¤. ê°œë°œ ë¸”ë¡œê·¸ë¼ë©´ ì½”ë“œë¡œ ì„¤ëª…í•˜ëŠ” ê²½ìš°ê°€ ë§ì€ë°, ì´ë²ˆ í¬ìŠ¤íŒ…ì—ëŠ” Code Highlighting ê¸°ëŠ¥ì´ í¬í•¨ë˜ì–´ ìˆì§€ ì•ŠìŠµë‹ˆë‹¤. í¬í•¨í•´ì„œ ë„£ì„ê¹Œ ìƒê°í–ˆëŠ”ë°, ì§ì ‘ ê¸°ëŠ¥ì„ ì¶”ê°€í•´ë´¤ìœ¼ë©´ í•´ì„œ ë„£ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤. ì°¸ê³ ë¡œ, `highlight.js` ë‚˜ `prism.js` ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•˜ë©´ ì‰½ê²Œ êµ¬í˜„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ì´ì™¸ì—ë„ ë‹¹ì—°íˆ ë°°í¬ê¹Œì§€ í•´ë³´ëŠ” ê²ƒì´ ì¢‹ê³  ê²€ìƒ‰ì´ë‚˜ í•„í„°, í˜ì´ì§€ë„¤ì´ì…˜, Google Analytics ë“± ë§ì€ ê¸°ëŠ¥ì„ ì¶”ê°€ë¡œ ë§Œë“¤ì–´ë³´ëŠ” ê²ƒë„ ì¢‹ì€ ê²½í—˜ì´ ë ê±°ë¼ê³  ìƒê°í•©ë‹ˆë‹¤. ë¬´ì—‡ë³´ë‹¤ ì›í•˜ëŠ” ë””ìì¸ì„ ì…í ìˆ˜ ìˆì–´ì„œ ë³´ê¸°ê°€ ì¢‹ìŠµë‹ˆë‹¤. ë‹¤ë“¤ ê°œì¸ ë¸”ë¡œê·¸ í•˜ë‚˜ì”© êµ¬í˜„í•´ë³´ê¸¸ í¬ë§í•˜ë©° í¬ìŠ¤íŒ…ì„ ë§ˆì¹©ë‹ˆë‹¤. ê°ì‚¬í•©ë‹ˆë‹¤.

https://github.com/ctdlog/blog-starter-kit
